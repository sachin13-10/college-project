<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SG Study Hub</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css?family=Poppins:100,200,300,400,600,700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5225142257290868"
        crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.25/jspdf.plugin.autotable.min.js"></script>
</head>

<body>
    <section class="sub-header">
        <nav>
            <a href="index.html"><img src="images/logo.png"></a>
            <div class="nav-links" id="navLinks">
                <i class="fa fa-close" onclick="hideMenu()"></i>
                <ul>
                    <li><a href="index.html">HOME</a></li>
                    <li><a href="code.html">OOP OUTPUTS</a></li>
                    <li><a href="dbmsop.html">DBMS OUTPUT</a></li>
                    <li><a href="practical.html">PRACTICALS</a></li>
                    <li><a href="about.html">ABOUT</a></li>
                    <li><a href="contact.html">CONTACT</a></li>
                    <li><a href="micro.html">PDF TOOL</a></li>
                </ul>
            </div>
            <i class="fa fa-bars" onclick="showMenu()"></i>
        </nav>
        <h1>DBMS Practical 1</h1>
    </section>

    <div class="container mt-5">
        <h2 class="text-center mb-3">Enter Student Data</h2>
        <div class="d-flex justify-content-center mb-3">
            <button class="btn btn-primary" onclick="addStudentRow()">Add Student</button>
        </div>
        <div class="table-responsive">
            <table id="studentsTable" class="table table-bordered text-center d-none">
                <thead class="table-dark">
                    <tr>
                        <th>First Name</th>
                        <th>Last Name</th>
                        <th>Date of Birth</th>
                        <th>Email</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>

        <h2 class="text-center mt-4 mb-3">Enter Course Data</h2>
        <div class="d-flex justify-content-center mb-3">
            <button class="btn btn-primary" onclick="addCourseRow()">Add Course</button>
        </div>
        <div class="table-responsive">
            <table id="coursesTable" class="table table-bordered text-center d-none">
                <thead class="table-dark">
                    <tr>
                        <th>Course Name</th>
                        <th>Credits</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>

        <div class="text-center mt-4">
            <button class="btn btn-success" onclick="generateSQL()">Generate SQL & PDF</button>
        </div>

        <pre id="sqlOutput" class="border p-3 mt-3 bg-light"></pre>
    </div>

    <script>
        function addStudentRow() {
            let table = document.getElementById("studentsTable");
            table.classList.remove("d-none");
            let tbody = table.querySelector("tbody");
            let row = tbody.insertRow();
            row.innerHTML = `
                <td><input type="text" class="form-control" placeholder="First Name"></td>
                <td><input type="text" class="form-control" placeholder="Last Name"></td>
                <td><input type="date" class="form-control"></td>
                <td><input type="email" class="form-control" placeholder="Email"></td>
            `;
        }

        function addCourseRow() {
            let table = document.getElementById("coursesTable");
            table.classList.remove("d-none");
            let tbody = table.querySelector("tbody");
            let row = tbody.insertRow();
            row.innerHTML = `
                <td><input type="text" class="form-control" placeholder="Course Name"></td>
                <td><input type="number" class="form-control" placeholder="Credits"></td>
            `;
        }

        function generateSQL() {
            let sqlOutput = document.getElementById("sqlOutput");
            let studentRows = document.querySelectorAll("#studentsTable tbody tr");
            let courseRows = document.querySelectorAll("#coursesTable tbody tr");

            let sql = "CREATE DATABASE SitrcDB;\nUSE SitrcDB;\n\n";
            sql += "CREATE TABLE Students (StudentID INT PRIMARY KEY AUTO_INCREMENT, FirstName VARCHAR(50), LastName VARCHAR(50), DateOfBirth DATE, Email VARCHAR(100));\n\n";
            sql += "CREATE TABLE Courses (CourseID INT PRIMARY KEY AUTO_INCREMENT, CourseName VARCHAR(100), Credits INT);\n\n";

            if (studentRows.length > 0) {
                sql += "INSERT INTO Students (FirstName, LastName, DateOfBirth, Email) VALUES\n";
                let values = [];
                studentRows.forEach(row => {
                    let cells = row.querySelectorAll("input");
                    values.push(`('${cells[0].value}', '${cells[1].value}', '${cells[2].value}', '${cells[3].value}')`);
                });
                sql += values.join(",\n") + ";\n\n";
            }

            if (courseRows.length > 0) {
                sql += "INSERT INTO Courses (CourseName, Credits) VALUES\n";
                let values = [];
                courseRows.forEach(row => {
                    let cells = row.querySelectorAll("input");
                    values.push(`('${cells[0].value}', ${cells[1].value})`);
                });
                sql += values.join(",\n") + ";\n";
            }

            sqlOutput.textContent = sql;
        }
    </script>

    <section class="footer">
        <h4>About Us</h4>
        <p>This is my first website built for fun. <br>Get any PDF and code output without hassle.</p>
        <div class="icons">
            <a href=""><i class="fa fa-facebook"></i></a>
            <a href=""><i class="fa fa-twitter"></i></a>
            <a href=""><i class="fa fa-instagram"></i></a>
            <a href=""><i class="fa fa-linkedin"></i></a>
        </div>
        <a href="" class="footer-link"><p>Made with <i class="fa fa-heart-o"></i> by SG</p></a>
    </section>

    <script>
        var navLinks = document.getElementById("navLinks");
        function showMenu() { navLinks.style.right = "0"; }
        function hideMenu() { navLinks.style.right = "-200px"; }
    </script>
</body>
